(this["webpackJsonpmember-dashboard"]=this["webpackJsonpmember-dashboard"]||[]).push([[0],{31:function(e,t,a){e.exports=a(88)},36:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),o=a.n(r);a(36),a(37),a(38),a(39),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(9),s=a(10),u=a(7),c=a(29),m=a(30),d=a(26),h=a(27),p=a(1),f=a(28),C=a(11),v=a(14),g=a(8),E=a.n(g),y=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getMembers",value:function(){return E.a.get("https://api.teamvegan.at/auth/otp",{headers:{"x-api-key":"Tcdz88F8vKsezgpmS0W0PbziYotHxr"}}).then((function(e){var t=e.data;return E.a.get("https://api.teamvegan.at/dashboard/members",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}))}))}},{key:"getCarsSmall",value:function(){return E.a.get("resources/data/cars.json").then((function(e){return e.data.data}))}},{key:"getCarsMedium",value:function(){return E.a.get("resources/data/cars.json").then((function(e){return e.data.data}))}},{key:"getCarsLarge",value:function(){return E.a.get("resources/data/cars.json").then((function(e){return e.data.data}))}}]),e}(),b=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={loading:!0,selectedPaymentState:null,selectedDiscourseState:null,paymentState:[{label:"Paid",value:"true"},{label:"Not Paid",value:"false"}],discourseState:[{label:"Active",value:"true"},{label:"Blocked",value:"false"},{label:"Not signed up",value:"na"}]},e.onPaymentStatusChange=e.onPaymentStatusChange.bind(Object(u.a)(e)),e.onDiscourseStatusChange=e.onDiscourseStatusChange.bind(Object(u.a)(e)),e.service=new y,e.export=e.export.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.service.getMembers().then((function(t){return e.setState({members:t,loading:!1})}))}},{key:"export",value:function(){this.dt.exportCSV()}},{key:"onPaymentStatusChange",value:function(e){this.dt.filter(e.value,"paid","equals"),this.setState({selectedPaymentState:e.value})}},{key:"onDiscourseStatusChange",value:function(e){"na"===e.value?this.dt.filter(null,"discourse","equals"):this.dt.filter(e.value,"discourse.active","equals"),this.setState({selectedDiscourseState:e.value})}},{key:"paymentStatusTemplate",value:function(e,t){return!0===e.paid?l.a.createElement("i",{className:"pi pi-check"}):l.a.createElement("i",{className:"pi pi-times"})}},{key:"discourseStatusTemplate",value:function(e,t){return!0===e.discourse.active?l.a.createElement("i",{className:"pi pi-check"}):l.a.createElement("i",{className:"pi pi-times"})}},{key:"render",value:function(){var e=this,t=l.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:"filter",value:this.state.selectedPaymentState,options:this.state.paymentState,onChange:this.onPaymentStatusChange,showClear:!0}),a=l.a.createElement(v.Dropdown,{style:{width:"100%"},placeholder:"filter",value:this.state.selectedDiscourseState,options:this.state.discourseState,onChange:this.onDiscourseStatusChange,showClear:!0}),n=l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement(h.Button,{type:"button",icon:"pi pi-external-link",iconPos:"left",label:"CSV",onClick:this.export})),r=l.a.createElement(f.ColumnGroup,null,l.a.createElement(C.Row,null,l.a.createElement(p.Column,{header:"name",rowSpan:2,field:"name",sortable:!0}),l.a.createElement(p.Column,{header:"email",rowSpan:2,field:"email",sortable:!0}),l.a.createElement(p.Column,{header:"paid",rowSpan:2,field:"paid"}),l.a.createElement(p.Column,{header:"payment",colSpan:4}),l.a.createElement(p.Column,{header:"forum",colSpan:2})),l.a.createElement(C.Row,null,l.a.createElement(p.Column,{header:"method",field:"payment.method",sortable:!0}),l.a.createElement(p.Column,{header:"date",field:"payment.date",sortable:!0}),l.a.createElement(p.Column,{header:"amount",field:"payment.amount",sortable:!0}),l.a.createElement(p.Column,{header:"payer",field:"payment.payerName",sortable:!0}),l.a.createElement(p.Column,{header:"username",field:"discourse.username",sortable:!0}),l.a.createElement(p.Column,{header:"active",field:"discourse.active",sortable:!0})),l.a.createElement(C.Row,null,l.a.createElement(p.Column,{field:"name",filter:!0,filterPlaceholder:"filter"}),l.a.createElement(p.Column,{field:"email",filter:!0,filterPlaceholder:"filter"}),l.a.createElement(p.Column,{field:"paid",filter:!0,filterElement:t}),l.a.createElement(p.Column,null),l.a.createElement(p.Column,null),l.a.createElement(p.Column,null),l.a.createElement(p.Column,null),l.a.createElement(p.Column,{field:"discourse.username",filter:!0,filterPlaceholder:"filter"}),l.a.createElement(p.Column,{field:"discourse",filter:!0,filterElement:a})));return l.a.createElement(d.DataTable,{value:this.state.members,paginator:!0,responsive:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",rows:25,rowsPerPageOptions:[10,25,50,100,500],header:n,headerColumnGroup:r,ref:function(t){e.dt=t},emptyMessage:"No records found",loading:this.state.loading},l.a.createElement(p.Column,{field:"name"}),l.a.createElement(p.Column,{field:"email",className:"ellipsis"}),l.a.createElement(p.Column,{field:"paid",body:this.paymentStatusTemplate}),l.a.createElement(p.Column,{field:"payment.method"}),l.a.createElement(p.Column,{field:"payment.paidAt"}),l.a.createElement(p.Column,{field:"payment.amount"}),l.a.createElement(p.Column,{field:"payment.payerName"}),l.a.createElement(p.Column,{field:"discourse.username",className:"ellipsis"}),l.a.createElement(p.Column,{field:"discourse.active",body:this.discourseStatusTemplate}))}}]),a}(n.Component);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.8801b132.chunk.js.map